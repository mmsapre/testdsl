package com.mmsapre.platform.config;

import org.springframework.boot.context.properties.ConfigurationProperties;

import java.util.HashMap;
import java.util.Map;

@ConfigurationProperties(prefix = "datasources")
public class DatasourceProperties {

    private Map<String, DatasourceConfig> configs = new HashMap<>();

    public Map<String, DatasourceConfig> getConfigs() {
        return configs;
    }

    public void setConfigs(Map<String, DatasourceConfig> configs) {
        this.configs = configs;
    }

    public static class DatasourceConfig {
        private String jdbcUrl;
        private String username;
        private String password;
        private String driverClassName;

        private Pool pool = new Pool();

        public String getJdbcUrl() { return jdbcUrl; }
        public void setJdbcUrl(String jdbcUrl) { this.jdbcUrl = jdbcUrl; }

        public String getUsername() { return username; }
        public void setUsername(String username) { this.username = username; }

        public String getPassword() { return password; }
        public void setPassword(String password) { this.password = password; }

        public String getDriverClassName() { return driverClassName; }
        public void setDriverClassName(String driverClassName) {
            this.driverClassName = driverClassName;
        }

        public Pool getPool() { return pool; }
        public void setPool(Pool pool) { this.pool = pool; }

        public static class Pool {
            private int maxSize = 10;
            private int minIdle = 2;
            private long idleTimeoutMs = 300000;

            public int getMaxSize() { return maxSize; }
            public void setMaxSize(int maxSize) { this.maxSize = maxSize; }

            public int getMinIdle() { return minIdle; }
            public void setMinIdle(int minIdle) { this.minIdle = minIdle; }

            public long getIdleTimeoutMs() { return idleTimeoutMs; }
            public void setIdleTimeoutMs(long idleTimeoutMs) {
                this.idleTimeoutMs = idleTimeoutMs;
            }
        }
    }
}
